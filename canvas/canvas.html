<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style type="text/css">
        #myCanvasbg,#myCanvas{
            position: absolute;
            top: 0;
            left:0;
        }
        #myCanvas{
            background: transparent;
        }
        #myCanvasbg{
            transform: rotateX(45deg);
        }
    </style>
</head>

<body>
    <canvas id="myCanvasbg" width="1024" height="768"></canvas>
    <canvas id="myCanvas" width="1024" height="768"></canvas>
    <script type="text/javascript">
    window.addEventListener('load', eventWindowLoaded, false);

    function eventWindowLoaded() {
        canvasAPP();
    }

    function canvasSupport(e) {
        return !!e.getContext;
    }

    function canvasAPP() {
        var canvas = document.getElementById('myCanvas');
        var canvasbg = document.getElementById('myCanvasbg');
        if (!(canvasSupport(myCanvas) && canvasSupport(myCanvasbg))) {
            return;
        }
    var cxtbg=canvasbg.getContext('2d');
    centerPoint(cxtbg);
    route(cxtbg,300,300,a,b);
    route(cxtbg,300,300,a+50,b+50);
    route(cxtbg,300,300,a+100,b+100);

    var cxt=canvas.getContext('2d');
    setInterval(function(){
        cxt.clearRect(0,0,1024,768);
        arcRoute(cxt,300,300,a,b,radius);
        arcRoute(cxt,300,300,a+50,b+50,radius);
        arcRoute(cxt,300,300,a+100,b+100,radius);
        }, 70);
    };
var a=150,
    b=60,
    radius=20;
    time=0;//循环的次数
//绘制原点
function centerPoint(cxt){
    cxt.fillStyle="black";
    cxt.beginPath();
    cxt.arc(300,300,10,0,2*Math.PI,true)
    cxt.closePath();
    cxt.fill();
}
//椭圆路线绘制
function route(context,x,y,a,b){
    context.save();
   var step = (a > b) ? 1 / a : 1 / b;
   context.beginPath();
   context.moveTo(x + a, y); //从椭圆的左端点开始绘制
   for (var i = 0; i < 2 * Math.PI; i += step)
   {
      context.lineTo(x + a * Math.cos(i), y + b * Math.sin(i));
   }
   context.closePath();
   context.stroke();
   context.restore();
}

//椭圆上小球运动的实现
function arcRoute(context,x,y,a,b,r){
    
    var step = (a > b) ? 1 / a : 1 / b;
    context.fillStyle="red";
    if(time==0){
        context.beginPath();
        context.arc(x,y,r,0,2*Math.PI,true);
        context.closePath();
        context.fill();
    }else{
    context.beginPath();
    context.arc(x+a*Math.cos(time*step),y+b*Math.sin(time*step),r,0,2*Math.PI,true);
    context.closePath();
    context.fill();
    }
    time+=1;
}
    </script>
</body>

</html>
